
<HTML><HEAD><TITLE>Manpage of AN_SET_BLOCKING</TITLE>
</HEAD><BODY>
<H1>AN_SET_BLOCKING</H1>
Section: Antinat Programmer's Manual (3)<BR>Updated: 2005-01-03<BR><A HREF="#index">Index</A>
<A HREF="antinat.3.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<P>

an_set_credentials - set the authentication details for a socket
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>#include &lt;antinat.h&gt;</B>

<P>
<B>int an_set_credentials(ANCONN </B><I>s</I><B>, const char * </B><I>username</I><B>, const char * </B><I>password</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The
<B><A HREF="an_set_credentials.3.html">an_set_credentials</A></B>(3)

function is used to set the username and password which will be used to
authenticate to the proxy server.  Authentication is only supported on
some types of proxy server, and different schemes exist for eachi type.
Some types support multiple authentication mechanisms.
<P>

Depending on the type of proxy you use, and its configuration,
credentials may or may not be required.  If they are, use this function
to set the credentials on the socket.  By default, credentials are
read from the
<I>AN_USER</I>

and
<I>AN_PASS</I>

environment variables, if they are set.  If not, the library will
require a server that supports anonymous authentication, or connections
will fail.  Note also that if
<B><A HREF="an_set_authscheme.3.html">an_set_authscheme</A></B>(3)

has been called, and only an anonymous scheme has been selected, the
values specified in this function will never be used.
<P>

<I>s</I>

is a socket previously created with
<B><A HREF="an_new_connection.3.html">an_new_connection</A></B>(3).

<P>

<I>username</I>

is a pointer to a NULL-terminated character array containing the username
to use.  In many schemes, this is case-sensitive.  This can be NULL if no
username should be stored, and username-based authentication should not
be supported.
<P>

<I>password</I>

is a pointer to a NULL-terminated character array containing the password
to use.  In many schemes, this is case-sensitive.  This can be NULL if
no password is to be used.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

This call returns
<B>AN_ERROR_SUCCESS</B>

to indicate successful completion.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><B>AN_ERROR_INVALIDARG</B>

<DD>
The socket handle is invalid.
<DT><B>AN_ERROR_NOMEM</B>

<DD>
There was not enough memory to allocate and store the username or password.
If this occurs, the exact username and password combination remaining are
undefined.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B><A HREF="an_new_connection.3.html">an_new_connection</A></B>(3)

<A NAME="lbAH">&nbsp;</A>
<H2>AUTHOR</H2>

<P>

Malcolm Smith &lt;<A HREF="mailto:malxau@users.sourceforge.net">malxau@users.sourceforge.net</A>&gt;
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
<DT><A HREF="#lbAH">AUTHOR</A><DD>
</DL>
<HR>
Time: 14:19:44 GMT, January 09, 2005
</BODY>
</HTML>
